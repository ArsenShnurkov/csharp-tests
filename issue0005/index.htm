<!DOCTYPE html>
<head>
<meta http-equiv="Content-Type" content="application/xml+xhtml; charset=UTF-8" />
<title>Проблема со вре́менной директорией</title>
<link rel="stylesheet" href="../collapsable.css">
</head>
<body>
<h1>Проблема со вре́менной директорией</h1>
Нужно или устанавливать заранее переменную TMPDIR, или придумывать что-то ещё.

<button type="button" class="collapsible">
warning MSB3491: Could not write lines to file "/tmp
</button>
<div class="content">
<pre>
/usr/share/msbuild/15.9/Microsoft.Common.CurrentVersion.targets(3325,5): warning MSB3491: Could not write lines to file "/tmp/.NETFramework,Version=v4.0.AssemblyAttributes.cs". Access to the path "/tmp/.NETFramework,Version=v4.0.AssemblyAttributes.cs" is denied. [/var/tmp/portage/www-servers/xsp-4.7.1-r1/work/xsp-b7190dd996b2c652630297ed9b1b9907602b0d4f/src/Mono.WebServer/Mono.WebServer.csproj]

https://github.com/dotnet/msbuild/blob/88f5fadfbef809b7ed2689f72319b7d91792460e/src/Tasks/Microsoft.Common.CurrentVersion.targets#L3325

$([System.IO.Path]::GetTempPath())

https://docs.microsoft.com/en-us/dotnet/api/system.io.path.gettemppath?view=netcore-3.1&tabs=linux

The path specified by the TMPDIR environment variable.

TMPDIR=/var/tmp/portage/www-servers/xsp-4.7.1-r1/temp

# cat /var/tmp/portage/www-servers/xsp-4.7.1-r1/temp/.NETFramework,Version=v4.0.AssemblyAttributes.cs
// <autogenerated />
using System;
using System.Reflection;
[assembly: global::System.Runtime.Versioning.TargetFrameworkAttribute(".NETFramework,Version=v4.0", FrameworkDisplayName = ".NET Framework 4")]


CoreCompile:
  /usr/lib/mono/4.5/csc.exe /noconfig /nowarn:1701,1702 /nostdlib+ /errorreport:prompt /warn:4 /define:DEBUG /highentropyva- /reference:/usr/lib/mono/4.0-api/Mono.Posix.dll /reference:/usr/lib/mono/4.0-api/mscorlib.dll /reference:/usr/lib/mono/4.0-api/System.Configuration.dll /reference:/usr/lib/mono/4.0-api/System.Core.dll /reference:/usr/lib/mono/4.0-api/System.dll /reference:/usr/lib/mono/4.0-api/System.Web.dll /reference:/usr/lib/mono/4.0-api/System.Xml.dll /debug+ /debug:full /keyfile:../mono.snk /optimize- /out:obj/Debug/Mono.WebServer.dll /target:library /utf8output ApplicationServer.cs BaseApplicationHost.cs BaseRequestBroker.cs EndOfRequestHandler.cs FinePlatformID.cs HttpErrors.cs IApplicationHost.cs InitialWorkerRequest.cs IRequestBroker.cs LingeringNetworkStream.cs LockRecursionException.cs LockRecursionPolicy.cs Log/Logger.cs Log/LogLevel.cs MapPathEventArgs.cs MapPathEventHandler.cs MonoWorkerRequest.cs Options/ConfigurationManagerExtensions.cs Options/ConfigurationManager.Fields.cs Options/IHelpConfigurationManager.cs Options/ServerConfigurationManager.cs Options/ConfigurationManager.cs Options/Options.cs Options/Descriptions.cs Paths.cs Platform.cs RequestData.cs RequestLineException.cs SearchPattern.cs UnregisterRequestEventArgs.cs UnregisterRequestEventHandler.cs Version.cs VPathToHost.cs WebSource.cs Worker.cs WebTrace.cs Log/FileLogger.cs Log/ILogger.cs AssemblyInfo4.cs IdentityToken.cs Options/Settings/BoolSetting.cs Options/Settings/Int32Setting.cs Options/Settings/EnumSetting.cs Options/Settings/UInt16Setting.cs Options/Settings/UInt32Setting.cs Options/Settings/StringSetting.cs Options/Settings/NullableInt32Setting.cs Options/Settings/NullableSetting.cs Options/Settings/ISetting.cs Options/Settings/NullableUInt16Setting.cs Options/Settings/Setting.cs Options/Settings/SettingsCollection.cs Options/Settings/SettingSource.cs Options/Settings/Parser.cs "/var/tmp/portage/www-servers/xsp-4.7.1-r1/temp/.NETFramework,Version=v4.0.AssemblyAttributes.cs"
</pre>
</div>

<script type="text/javascript" src="../collapsable.js"></script>
<script type="text/javascript">
	page_process();
</script>
</body>
</html>
